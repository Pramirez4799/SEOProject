<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Quiz</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .grid-container {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            grid-template-rows: auto auto auto auto;
            gap: 10px;
            padding: 20px;
        }
        .menu {
            grid-column: 1;
            grid-row: 1;
            background-color: lightgrey;
            padding: 10px;
            text-align: center;
        }
        .song-info {
            grid-column: 2;
            grid-row: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .song-info .song-name,
        .song-info .artist-name {
            background-color: lightcoral;
            color: white;
            padding: 10px;
            margin: 5px;
        }
        .timer {
            grid-column: 3;
            grid-row: 1;
            background-color: red;
            color: white;
            padding: 10px;
            text-align: center;
        }
        .song-animation {
            grid-column: 1 / span 3;
            grid-row: 2;
            background-color: lightcoral;
            padding: 20px;
            text-align: center;
            color: white;
        }
        .play-snippet {
            grid-column: 1 / span 3;
            grid-row: 3;
            background-color: lightcoral;
            padding: 20px;
            text-align: center;
            color: white;
        }
        .choices {
            grid-column: 1 / span 3;
            grid-row: 4;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            justify-items: center;
        }
        .choices button {
            padding: 10px;
            width: 100%;
            background-color: lightgrey;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .choices button:hover {
            background-color: grey;
            color: white;
        }
        .next-song {
            grid-column: 2;
            grid-row: 5;
            padding: 10px;
            background-color: lightgrey;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .next-song:hover {
            background-color: grey;
            color: white;
        }
        .song-list {
            grid-column: 1 / span 3;
            grid-row: 6;
            background-color: lightgrey;
            padding: 20px;
            color: black;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="grid-container">
        <div class="menu">Menu</div>
        <div class="song-info">
            <div class="song-name">Song Name</div>
            <div class="artist-name">Artist Name</div>
        </div>
        <div class="timer">TIMER</div>
        <div class="song-animation">song animation</div>
        <div class="play-snippet">Play snippet</div>
        <div class="choices">
            <button>choice 1</button>
            <button>choice 2</button>
            <button>choice 3</button>
            <button>choice 4</button>
        </div>
        <button class="next-song">Next Song</button>
        <div class="song-list" id="songList"></div>
    </div>

    <script>
        // Function to get query parameters
        function getQueryParams() {
            const params = new URLSearchParams(window.location.search);
            return Object.fromEntries(params.entries());
        }

        // Fetch and display songs for the selected playlist
        function fetchSongs(playlistId) {
            fetch(`/playlist/${playlistId}/tracks`)
                .then(response => response.json())
                .then(data => {
                    console.log('Songs:', data); // Log songs to the console for now
                    const songListElement = document.getElementById('songList');
                    songListElement.innerHTML = '<h3>Playlist Songs:</h3>';
                    if (data.items) {
                        const ul = document.createElement('ul');
                        data.items.forEach(item => {
                            const li = document.createElement('li');
                            li.textContent = `${item.track.name} by ${item.track.artists.map(artist => artist.name).join(', ')}`;
                            ul.appendChild(li);
                        });
                        songListElement.appendChild(ul);
                    } else {
                        songListElement.innerHTML += '<p>No songs found in this playlist.</p>';
                    }
                })
                .catch(error => {
                    console.error('Error fetching playlist songs:', error);
                });
        }

        // Get playlistId from URL parameters and fetch songs
        const queryParams = getQueryParams();
        if (queryParams.playlistId) {
            fetchSongs(queryParams.playlistId);
        } else {
            console.error('No playlistId found in URL parameters');
        }
    </script>
</body>
</html>
easy is 30 sec per Song
med is 15 sec per Song
hard is 6 per songg 

once you get to this page
store all songs in a list for the playlist id selected 
keep track of how many songs are selected correctly
start timer (medium mode for testing and it will be 2min 30 sec)
pick one random song 
use that song to be the one that gets played
    add a button to play song and a pause button to stop song 
add that song to one of choices and make sure its random 
pick three other different songs (all songs must be a different choice)
if correct songs is picked then go to next song
if wrong song is selected then still go to next song
once done calcualted score based on number selected correctly x time remaining x difficulty (have chat tweak this algo)
